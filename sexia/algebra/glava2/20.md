## Билет 20

### Сумма функции Эйлера по делителям числа

#### Теорема 17

Для любого $n \in \mathbb{N}$
$$
\sum_{d \in \mathbb{N}, d \mid n} \varphi(d)=n
$$

**Доказательство.**

- Рассмотрим все $N$ числа от 1 до $n$ — их как раз $n$ штук. Каждое из них имеет НОД с $n$ — и этот НОД — делитель $n$.
- Для любого $d \mid n$ подсчитаем количество всех чисел из $\{1, \ldots, n\}$, чей НОД с $n$ равен $d$.
- Такие числа делятся на $d$, значит, их нужно искать среди $d, 2d, \ldots, n = \frac{n}{d}$.
- Так как $d = (kd, n) = (kd, \frac{n}{d}) = d \cdot (k, \frac{n}{d}) \Leftrightarrow (k, \frac{n}{d}) = 1$, количество чисел из $\{1, \ldots, n\}$, чей НОД с $n$ равен $d$ — это в точности количество таких $k \in \{1, \ldots, \frac{n}{d}\}$, что $(k, \frac{n}{d}) = 1$, а это количество равно $\varphi(\frac{n}{d})$.
- Если $d$ пробегает все натуральные делители $n$, то $d' = \frac{n}{d}$ также пробегает все натуральные делители $n$. Поэтому,
  $$
  n = \sum_{d \in \mathbb{N}, d \mid n} \varphi(\frac{n}{d}) = \sum_{d' \in \mathbb{N}, d' \mid n} \varphi(d').
  $$
