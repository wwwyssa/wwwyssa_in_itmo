## Билет 18

## Функция Эйлера

### Лемма 4

Функция Эйлера мультипликативна, то есть, если $a, b \in \mathbb{N}$ взаимно просты, то $\varphi(ab) = \varphi(a)\varphi(b)$.

**Доказательство.**

- Запишем числа от 1 до $ab$ в таблицу $a \times b$ так, что в первой строке — числа от 1 до $a$, во второй — от $a + 1$ до $2a$, и т.д., в $b$ строке — числа от $(b-1)a + 1$ до $ba$.
- Все числа в $i$ столбце принадлежат одному вычету $i = i + a\mathbb{Z}$ по модулю $a$. Эти числа взаимно просты с $a$, если и только если $(i, a) = 1$.
- Вычеркнем все столбцы с номерами $i$, не взаимно простыми с $a$. Останутся ровно $\varphi(a)$ столбцов.
- Все числа, взаимно простые с $ab$, должны быть взаимно простыми и с $a$, они лежат в оставшихся $\varphi(a)$ столбцах.
- Рассмотрим любой оставшийся столбец, пусть числа в нем имеют вид $j, a + j, \ldots, (b - 1)a + j$. Эти числа образуют ПСВ (mod $b$) в силу [Теоремы 13](#теорема-13) (так как получены из ПСВ $0, 1, \ldots, b - 1$ умножением на $a$, взаимно простое с $b$ и прибавлением $j$: $0 \rightarrow j, 1 \rightarrow a + j, \ldots, b - 1 \rightarrow (b - 1)a + j$).
- Значит, среди чисел $j, a + j, \ldots, (b - 1)a + j$ ровно $\varphi(b)$ взаимно простых с $b$. Остальные числа точно не взаимно просты с $ab$, вычеркнем их.
- Оставшиеся $\varphi(a)\varphi(b)$ чисел взаимно просты и с $a$, и с $b$, а значит, взаимно просты с $ab$. Значит, осталось ровно $\varphi(ab)$ чисел (все числа от 1 до $ab$, взаимно простые с $ab$).

### Пример: \( a = 3, b = 4 \), значит \( ab = 12 \)

#### 1. Исходная таблица (числа от 1 до 12)

В таблице будет \( b = 4 \) строк и \( a = 3 \) столбца, числа от 1 до 12 распределены по таблице.


|   | 1  | 2  | 3  |
| - | -- | -- | -- |
| 1 | 1  | 2  | 3  |
| 2 | 4  | 5  | 6  |
| 3 | 7  | 8  | 9  |
| 4 | 10 | 11 | 12 |

---

#### 2. Вычёркиваем столбцы с номерами, не взаимно простыми с \( a = 3 \)

Числа в столбцах с номерами \( i \), не взаимно простыми с 3, вычёркиваем. Остаётся два столбца (1 и 2):


|   | **1** | **2** | ~~3~~  |
| - | ----- | ----- | ------ |
| 1 | 1     | 2     | ~~3~~  |
| 2 | 4     | 5     | ~~6~~  |
| 3 | 7     | 8     | ~~9~~  |
| 4 | 10    | 11    | ~~12~~ |

Мы оставили **$ \varphi(3) = 2 $ столбца**.

---

#### 3. В каждом оставшемся столбце числа образуют ПСВ по модулю \( b = 4 \)

Смотрим отдельно на числа в оставшихся столбцах:

- В столбце 1: \( 1, 4, 7, 10 \)
- В столбце 2: \( 2, 5, 8, 11 \)

Эти группы образуют полную систему вычетов по модулю \( 4 \).

Теперь вычёркиваем числа, не взаимно простые с \( b = 4 \) (то есть делящиеся на 2 или 4):


|   | **1**  | **2**  | ~~3~~  |
| - | ------ | ------ | ------ |
| 1 | **1**  | ~~2~~  | ~~3~~  |
| 2 | ~~4~~  | **5**  | ~~6~~  |
| 3 | **7**  | ~~8~~  | ~~9~~  |
| 4 | ~~10~~ | **11** | ~~12~~ |

Остались числа **$ \varphi(3) \cdot \varphi(4) = 2 \times 2 = 4 $ взаимно простых с \( 12 \)**:

\[
\{1, 5, 7, 11\}
\]

Это подтверждает, что $ \varphi(12) = 4 $ и теорема верна.
