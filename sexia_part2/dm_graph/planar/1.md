# Изображение графа на плоскости, грань.  
  
## Определение  
Граф называется **планарным**, если его можно изобразить  
на плоскости так, чтобы его рёбра не пересекались во  
внутренних точках. Вершины изображаются точками, а  
рёбра — ломаными. Внутренние точки любой ломаной,  
изображающей ребро графа, не должны быть вершинами  
графа.  
  
## Грань плоского графа  
  
 • Изображение плоского графа делит плоскость на части —  
 грани. Это ключевой объект для плоского графа, отличающий  
 его от абстрактного планарного графа. Ниже мы дадим  
 формальное определение граней.  
 • На плоскости изображен плоский граф G. Пусть M —  
 множество всех точек плоскости, не входящих в изображение  
 G.  
 • Пусть запись A ∼ B означает, что точки A,B ∈ M можно  
 соединить ломаной, не пересекающей изображение графа G.  
 Укажем три важных свойства ∼.  
 ### Утверждение  
 ∼ —отношение эквивалентности.  
 ### Доказательство.
  • Рефлексивность. A ∼ A  
 • Симметричность. Если A ∼ B, то B ∼ A.  
 • Транзитивность. Если A ∼ B и B ∼ C, то A ∼ C.

## Определение 
Грани плоского графа G — классы эквивалентности по отшению ∼. 

• Таким образом, все точки плоскости, не лежащие на изображении графа G, разбиты на грани. 
• Множество всех граней графа G обозначается через F(G), а их количество — через f(G). 
• Две точки из одной грани графа G могут быть соединены ломаной, не пересекающей изображение G. 
• Любая ломаная, соединяющая две точки из разных граней, пересекает изображение G


# Теорема Жордана для замкнутой ломаной.

## Теорема 1
**(C.Jordan, 1887.)** Замкнутая несамопересекающаяся ломаная P делит точки плоскости, не лежащие на P, на две такие части, что выполнены следующие условия: 
1) любые две точки из одной части можно соединить ломаной, не пересекающей P; 
2) любая ломаная, соединяющая две точки из разных частей, пересекает P.

### Доказательство
• Пусть $P_1 ...P_m$ — вершины $P$ в порядке обхода по часовой стрелке. Обозначим через $M$ множество всех точек плоскости, не лежащих на $P$.

• Зафиксируем на плоскости вектор $ℓ$, не параллельный ни одной из сторон $P$. Из каждой точки $A \in M$ выпустим луч $ℓ(A)$ в направлении $ℓ$.

• В случае, если $ℓ(A)$ содержит вершину $P_i$ многоугольника $P$, но стороны $P_{i−1}P_i$ и $P_iP_{i+1}$ лежат в одной полуплоскости относительно содержащей $ℓ(A)$ прямой, мы будем говорить, что многоугольник P в вершине $P_i$ **касается** $ℓ(A)$

• Посчитаем число $p(A)$ точек пересечения $ℓ(A)$ с $P$, не являющихся касаниями. Очевидно, что $p(A)$ конечно.

• Часть $M_0$ будет состоять из всех точек $A \in M$, для которых $p(A)$ четно, а часть $M_1$ будет состоять из всех точек $B \in M$, для которых $p(B)$ нечетно.

### Утверждение $М_0$ и $М_1$ непусты
### Доказательство
• Рассмотрим прямую $ℓ_0$, параллельную вектору $ℓ$, и проходящую через внутреннюю точку ломаной $P$ (то есть точку, не являющуюся ее вершиной).
• При движении по $ℓ_0$ в направлении вектора $ℓ$ отметим последнее пересечение с $ℓ$ во внутренней точке — пусть это точка $X$.
• Рассмотрим содержащий $X$ малый отрезок $[Y,Z]$ на этом $ℓ_0$, не пересекающий $P$ в отличных от $X$ точках, пусть $Y$ лежит перед $X$ при движении в направлении $ℓ$.
• Тогда $p(Y) = 1$ (единственное пересечение в точке $X$), а $p(Z) = 0$.

### Утверждение 
Пусть $A,B \in M$ и отрезок $[A,B]$ не пересекает $P$. Тогда $p(A)$ и $p(B)$ имеют одинаковую четность. В частности, выполнено условие (2).

### Доказательство
• Если $AB ∥ ℓ$, то утверждение очевидно.
• Если нет, то отметим на отрезке $AB$ все такие точки $A_1, ..., A_k$ в направлении от $A$ к $B$, что $ℓ(A_i)$ касается $P$ (если они есть). Положим $A_0 = A$ и $A_{k+1} = B$.
• Тогда для каждого $i \in [0..k]$, все точки отрезка $[A_i,A_{i+1}]$ имеют, очевидно, одинаковое значение функции $p$, а при переходе на соседний отрезок функция $p$ может иметь четный скачок (каждое касание $ℓ(A_i)$ многоугольника $P$ добавляет точкам с одной стороны от $A_i$ двойку к количеству пересечений, см. рис.a).
• В любом случае, на всем отрезке $[A,B]$ функция $p$ имеет одинаковую четность.
Рисунок а:
![Рисунок а](https://github.com/wwwyssa/wwwyssa_in_itmo/blob/main/sexia_part2/dm_graph/planar/1.png?raw=true)

#### Докажем (1). 
• Пусть $A,B \in M_i$. Если отрезок $[A,B]$ не пересекает $P$, то все понятно. Пусть пересекает, причем $A_1 и B_1$ — ближайшие к $A$ и $B$ соответственно точки пересечения.

• Отметим на отрезке $[A,A_1]$ точку $A′$ очень близко к $A_1$, а на отрезке $[B_1,B]$ — точку $B′$ очень близко к $B_1$, пусть $|A1A′|$ = $|B1B′|$ = $\delta$ (см. рис. b). Тогда $p(A) = p(A′)$ и $p(B) = p(B′)$.
Рисункок b:
![Рисунок b](https://github.com/wwwyssa/wwwyssa_in_itmo/blob/main/sexia_part2/dm_graph/planar/2.png?raw=true)
• Проведем вдоль каждой стороны многоугольника $P$ две параллельных прямых на расстоянии $\delta$ с разных сторон, выбрав это число столь малым, чтобы в результате получились два “очень близких” к $P$ многоугольника $P′$ и $P′′$ так, чтобы стороны $P′$ и $P′′$ не пересекали сторон $P$. (Достаточно выбрать $\delta$ меньше, чем минимальное расстояние от стороны $P$ до вершины, на ней не лежащей.)
• НУО $A′$ лежит на $P′$. Если и $B′$ лежит на $P′$, то мы построили от $A′$ до $B′$ ломаную, не пересекающую $P$, тогда такая ломаная построена и от $A$ до $B$.
• Пусть $B′$ лежит на $P′′$, тогда обозначим через $B^∗$ точку пересечения $P′$ с прямой $AB$, лежащую около $B$ (разумеется, на расстоянии $\delta$).
• Несложно понять, что $p(B∗) −p(B′) = ±1$ (разница состоит в том, что ровно для одной из этих точек учитывается пересечение около точки $B_1$).
• Однако применив доказанное выше утверждение, получим $p(B^∗) ≡ p(A′) ≡ p(A) ≡ p(B) ≡ p(B′) (mod 2)$, противоречие.